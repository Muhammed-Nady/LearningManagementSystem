@model LearningManagementSystem.MVC.Models.CourseCardVm

<div class="card h-100 shadow-sm">
    <img class="card-img-top" src="@(string.IsNullOrEmpty(Model.ThumbnailUrl) ? "/images/course-placeholder.png" : Model.ThumbnailUrl)" alt="@Model.Title" style="max-height:180px;object-fit:cover;" />
    <div class="card-body d-flex flex-column">
        <h5 class="card-title mb-2">@Model.Title</h5>
        <p class="text-muted small mb-2"><i class="bi bi-person"></i> @Model.InstructorName</p>
        <p class="card-text text-truncate mb-2" style="font-size: 0.9rem;">@Model.Description</p>

        <div class="mb-2">
            @if (Model.AverageRating > 0)
            {
                <span class="text-warning">
                    @for (int i = 1; i <= 5; i++)
                    {
                        if (i <= Math.Floor(Model.AverageRating))
                        {
                            <i class="bi bi-star-fill"></i>
                        }
                        else if (i == Math.Ceiling(Model.AverageRating))
                        {
                            <i class="bi bi-star-half"></i>
                        }
                        else
                        {
                            <i class="bi bi-star"></i>
                        }
                    }
                </span>
                <span class="text-muted small">@Model.AverageRating.ToString("0.0")</span>
            }
        </div>

        <div class="small text-muted mb-3">
            <i class="bi bi-people"></i> @Model.EnrollmentCount students
        </div>

        <div class="mt-auto d-flex justify-content-between align-items-center">
            <div class="fw-bold text-primary" style="font-size: 1.1rem;">
                @(Model.Price > 0 ? "$" + Model.Price : "Free")
            </div>
            <a class="btn btn-sm btn-primary" asp-controller="Courses" asp-action="Details" asp-route-id="@Model.CourseId">
                View Details
            </a>
        </div>
    </div>
</div>