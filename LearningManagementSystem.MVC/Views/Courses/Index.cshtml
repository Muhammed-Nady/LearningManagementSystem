@model LearningManagementSystem.MVC.Models.CoursesIndexViewModel
@{
    ViewData["Title"] = "Browse Courses";
}

<div class="bg-light py-4">
    <div class="container">
        <h1 class="fw-bold mb-2" style="color: #1F2937;">Explore Courses</h1>
        <p class="text-muted">Discover your next learning adventure</p>
    </div>
</div>

<div class="container my-5">
    <div class="row">
        <!-- Filters Sidebar -->
        <div class="col-md-3 mb-4">
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <h5 class="fw-bold mb-3">Filters</h5>

                    <!-- Search -->
                    <form method="get" asp-action="Index">
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Search</label>
                            <input type="text" name="search" class="form-control" placeholder="Search courses..." value="@Model.SearchTerm" />
                        </div>

                        <!-- Category Filter -->
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Category</label>
                            <select name="category" class="form-select">
                                <option value="">All Categories</option>
                                @foreach (var cat in Model.Categories)
                                {
                                    <option value="@cat.CategoryId" selected="@(Model.SelectedCategory == cat.CategoryId)">@cat.Name</option>
                                }
                            </select>
                        </div>

                        <!-- Level Filter -->
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Level</label>
                            <select name="level" class="form-select">
                                <option value="">All Levels</option>
                                <option value="Beginner" selected="@(Model.SelectedLevel == "Beginner")">Beginner</option>
                                <option value="Intermediate" selected="@(Model.SelectedLevel == "Intermediate")">Intermediate</option>
                                <option value="Advanced" selected="@(Model.SelectedLevel == "Advanced")">Advanced</option>
                            </select>
                        </div>

                        <button type="submit" class="btn btn-primary w-100">
                            <i class="bi bi-funnel me-2"></i>Apply Filters
                        </button>
                        <a asp-action="Index" class="btn btn-outline-secondary w-100 mt-2">Clear</a>
                    </form>
                </div>
            </div>
        </div>

        <!-- Courses Grid -->
        <div class="col-md-9">
            @if (Model.Courses.Any())
            {
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0">@Model.Courses.Count course@(Model.Courses.Count != 1 ? "s" : "") found</h5>
                </div>

                <div class="row g-3">
                    @foreach (var course in Model.Courses)
                    {
                        <div class="col-md-6 col-lg-4">
                            <partial name="_CourseCard" model="course" />
                        </div>
                    }
                </div>
            }
            else
            {
                <div class="text-center py-5">
                    <i class="bi bi-inbox" style="font-size: 4rem; color: #9CA3AF;"></i>
                    <h4 class="mt-3 text-muted">No courses found</h4>
                    <p class="text-muted">Try adjusting your filters or search terms</p>
                    <a asp-action="Index" class="btn btn-primary">Browse All Courses</a>
                </div>
            }
        </div>
    </div>
</div>
